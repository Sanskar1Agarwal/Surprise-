<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interactive Cake Cutting</title>
<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
        background-color: #fff8f0;
        padding: 30px;
    }
    h1 {
        color: #d2691e;
    }
    canvas {
        border: 2px solid #d2691e;
        border-radius: 50%;
        margin-top: 20px;
        cursor: pointer;
        max-width: 90vw;
    }
    #info {
        margin-top: 20px;
        font-size: 18px;
        color: #8b4513;
    }
</style>
</head>
<body>

<h1>Interactive Cake Cutting ðŸŽ‚</h1>
<p>Click on the cake to make a cut and see the slices!</p>
<canvas id="cakeCanvas" width="400" height="400"></canvas>
<div id="info">Number of cuts: 0 | Pieces: 1</div>

<script>
const canvas = document.getElementById('cakeCanvas');
const ctx = canvas.getContext('2d');
const radius = canvas.width / 2 - 10;
const center = { x: canvas.width / 2, y: canvas.height / 2 };
let cuts = []; // store angles of cuts
let colors = ['#FF9999','#FFCC99','#99CCFF','#CCFF99','#FFB6C1','#FFA07A','#87CEFA','#90EE90','#FFD700','#FF69B4'];

// Draw the cake slices
function drawCake() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Sort cuts so slices are drawn in order
    const sortedCuts = cuts.slice().sort((a,b) => a-b);
    const totalCuts = sortedCuts.length;

    // Draw slices
    if (totalCuts === 0) {
        ctx.fillStyle = '#FFCC99';
        ctx.beginPath();
        ctx.arc(center.x, center.y, radius, 0, Math.PI * 2);
        ctx.fill();
    } else {
        for (let i = 0; i <= totalCuts; i++) {
            const start = i === 0 ? 0 : sortedCuts[i-1];
            const end = i === totalCuts ? Math.PI * 2 : sortedCuts[i];
            ctx.fillStyle = colors[i % colors.length];
            ctx.beginPath();
            ctx.moveTo(center.x, center.y);
            ctx.arc(center.x, center.y, radius, start, end);
            ctx.closePath();
            ctx.fill();
        }

        // Draw cut lines
        ctx.strokeStyle = '#8B4513';
        ctx.lineWidth = 2;
        sortedCuts.forEach(angle => {
            ctx.beginPath();
            ctx.moveTo(center.x, center.y);
            ctx.lineTo(center.x + radius * Math.cos(angle), center.y + radius * Math.sin(angle));
            ctx.stroke();
        });
    }
}

// Add a cut
function addCut(event) {
    const rect = canvas.getBoundingClientRect();
    const x = event.clientX - rect.left - center.x;
    const y = event.clientY - rect.top - center.y;
    const angle = Math.atan2(y, x);
    cuts.push(angle);

    drawCake();

    const pieces = cuts.length * (cuts.length + 1) / 2 + 1;
    document.getElementById('info').innerText = `Number of cuts: ${cuts.length} | Pieces: ${pieces}`;
}

// Initial draw
drawCake();
canvas.addEventListener('click', addCut);
canvas.addEventListener('touchstart', function(e){
    e.preventDefault();
    const touch = e.touches[0];
    addCut({clientX: touch.clientX, clientY: touch.clientY});
}, {passive: false});
</script>

</body>
</html>
