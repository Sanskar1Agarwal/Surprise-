<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Muskan ‚ù§Ô∏èüéÇ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:'Segoe UI',sans-serif;
  background:#0f0f1a;
  color:white;
  text-align:center;
  overflow:hidden;
}

section{
  display:none;
  min-height:100vh;
  padding:30px;
}
section.active{display:block;}

button{
  padding:14px 28px;
  border:none;
  border-radius:25px;
  background:white;
  color:#ff4d6d;
  font-size:1em;
  cursor:pointer;
  margin:15px;
}

input{
  padding:12px;
  border-radius:20px;
  border:none;
  text-align:center;
}

h1{font-size:2.3em;}

#muteBtn{
  position:fixed;
  top:10px;
  right:10px;
  z-index:100;
}

/* hearts bg */
.heart{
  position:absolute;
  animation:float 6s linear infinite;
}
@keyframes float{
  0%{transform:translateY(100vh);opacity:1;}
  100%{transform:translateY(-10vh);opacity:0;}
}

/* Valentine No button */
#noBtn{
  position:absolute;
}

/* cake */
.cake-wrapper{
  display:flex;
  flex-direction:column;
  align-items:center;
  margin-top:40px;
}

.cake{
  position:relative;
  width:260px;
  height:240px;
  cursor:pointer;
}

.tier{
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  background:#ff9fbf;
  border-radius:20px;
}

.bottom-tier{
  width:260px;
  height:120px;
  bottom:0;
}

.top-tier{
  width:180px;
  height:90px;
  bottom:110px;
}

.icing{
  position:absolute;
  top:0;
  width:100%;
  height:30px;
  background:#ffc1dc;
  border-radius:20px;
}

.icing::after{
  content:"";
  position:absolute;
  width:100%;
  height:20px;
  bottom:-15px;
  background:
    radial-gradient(circle at 20% 100%, #ffc1dc 25%, transparent 26%),
    radial-gradient(circle at 50% 100%, #ffc1dc 25%, transparent 26%),
    radial-gradient(circle at 80% 100%, #ffc1dc 25%, transparent 26%);
}

.sprinkles{
  position:absolute;
  width:100%;
  height:100%;
  background-image:
    radial-gradient(#ffd700 2px, transparent 3px),
    radial-gradient(#87cefa 2px, transparent 3px),
    radial-gradient(#ff69b4 2px, transparent 3px);
  background-size:30px 30px;
}

.candle{
  position:absolute;
  width:10px;
  height:35px;
  background:white;
  top:-35px;
  left:50%;
  transform:translateX(-50%);
}
.candle:nth-child(3){margin-left:-25px;}
.candle:nth-child(4){margin-left:25px;}

.flame{
  width:8px;
  height:12px;
  background:orange;
  border-radius:50%;
  position:absolute;
  top:-12px;
  left:1px;
  animation:flicker .2s infinite alternate;
}
@keyframes flicker{
  from{transform:scale(1);}
  to{transform:scale(1.2);}
}

.slice{
  position:absolute;
  width:130px;
  height:120px;
  background:#ff9fbf;
  bottom:0;
  left:65px;
  clip-path:polygon(50% 0,100% 100%,0 100%);
  opacity:0;
  transition:.8s ease;
}

.cake.cut .slice{
  opacity:1;
}
.cake.cut .s1{transform:translate(-90px,20px);}
.cake.cut .s2{transform:translate(90px,20px);}
.cake.cut .s3{transform:translate(-70px,-30px);}
.cake.cut .s4{transform:translate(70px,-30px);}

.firework{
  position:absolute;
  width:6px;
  height:6px;
  border-radius:50%;
  animation:explode 1.2s forwards;
}
@keyframes explode{
  from{transform:scale(1);opacity:1;}
  to{transform:scale(6);opacity:0;}
}
</style>
</head>

<body>

<button id="muteBtn" onclick="toggleMusic()">üîä</button>

<audio id="bgm" src="song.mp3" loop></audio>

<!-- PAGE 0 -->
<section class="active" id="s0">
  <h1>üîê Enter Secret Code</h1>
  <input id="code" placeholder="Secret code">
  <p id="timer"></p>
  <button onclick="checkCode()">Enter</button>
</section>

<!-- PAGE 1 -->
<section id="s1">
  <h1>Will you be my Valentine? ‚ù§Ô∏è</h1>
  <button onclick="next(2)">YES üíñ</button>
  <button id="noBtn">NO üòè</button>
</section>

<!-- PAGE 2 -->
<section id="s2">
  <h1>Collect 29 Hearts üíñ</h1>
  <p>Score: <span id="score">0</span>/29</p>
  <div id="gameArea" style="height:60vh;border:2px dashed white"></div>
</section>

<!-- PAGE 3 -->
<section id="s3">
  <h1>üéâ HAPPY BIRTHDAY MUSKAN üéâ</h1>

  <div class="cake-wrapper">
    <div class="cake" id="cake">
      <div class="tier top-tier">
        <div class="icing"></div>
        <div class="sprinkles"></div>
        <div class="candle"><div class="flame"></div></div>
        <div class="candle"><div class="flame"></div></div>
        <div class="candle"><div class="flame"></div></div>
      </div>
      <div class="tier bottom-tier">
        <div class="icing"></div>
        <div class="sprinkles"></div>
      </div>

      <div class="slice s1"></div>
      <div class="slice s2"></div>
      <div class="slice s3"></div>
      <div class="slice s4"></div>
    </div>
    <p>Tap the cake to cut üéÇ</p>
  </div>
</section>

<script>
/* music */
const music=document.getElementById("bgm");
music.volume=0.8;
music.play();

function toggleMusic(){
  music.muted=!music.muted;
  muteBtn.innerText=music.muted?"üîá":"üîä";
}

/* code */
function checkCode(){
  if(code.value==="14052018") next(1);
  else alert("Wrong code ‚ùå");
}

/* countdown */
const target=new Date("2026-02-08T00:00:00").getTime();
setInterval(()=>{
  const d=target-new Date().getTime();
  timer.innerText=
    Math.floor(d/86400000)+"d "+
    Math.floor((d%86400000)/3600000)+"h "+
    Math.floor((d%3600000)/60000)+"m "+
    Math.floor((d%60000)/1000)+"s";
},1000);

/* navigation */
function next(n){
  document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
  document.getElementById("s"+n).classList.add("active");
  if(n===2) startGame();
}

/* no button dodge */
noBtn.onmouseover=()=>{
  noBtn.style.left=Math.random()*80+"%";
  noBtn.style.top=Math.random()*80+"%";
};

/* game */
let score=0;
function startGame(){
  score=0;
  gameArea.innerHTML="";
  const interval=setInterval(()=>{
    const h=document.createElement("div");
    h.innerText=Math.random()<0.3?"üíî":"üíñ";
    h.style.position="absolute";
    h.style.left=Math.random()*90+"%";
    h.style.top=Math.random()*90+"%";
    h.style.fontSize="30px";
    h.onclick=()=>{
      if(h.innerText==="üíñ") score++;
      document.getElementById("score").innerText=score;
      h.remove();
      if(score===29){
        clearInterval(interval);
        next(3);
      }
    };
    gameArea.appendChild(h);
    setTimeout(()=>h.remove(),1500);
  },700);
}

/* cake cut */
let cut=false;
cake.onclick=()=>{
  if(!cut){
    cake.classList.add("cut");
    cut=true;
    fireworks();
  }
};

/* fireworks */
function fireworks(){
  setInterval(()=>{
    const f=document.createElement("div");
    f.className="firework";
    f.style.left=Math.random()*100+"vw";
    f.style.top=Math.random()*60+"vh";
    f.style.background=`hsl(${Math.random()*360},100%,50%)`;
    document.body.appendChild(f);
    setTimeout(()=>f.remove(),1200);
  },200);
}

/* floating hearts */
setInterval(()=>{
  const h=document.createElement("div");
  h.className="heart";
  h.innerHTML="‚ù§Ô∏è";
  h.style.left=Math.random()*100+"vw";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),6000);
},400);
</script>

</body>
</html>
